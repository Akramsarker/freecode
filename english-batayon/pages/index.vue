<template>
  <div class="main-page-content">
    <div id="showcase">
      <div class="showcase-item">
        <div class="showcase-info">
          <h1>Online English Learning</h1>
          <p>
            From finding relevant media contacts to sending eye-catching press
            releases, Prowly has everything you need your PR work done.
          </p>
          <button class="btn">Join</button>
        </div>
        <div class="showcase-image">
          <img src="/image/538.svg" alt="" />
        </div>
      </div>
    </div>

    <section id="pricing-cards">
      <h1>Join These Course</h1>
      <div class="container">
        <div class="card-item">
          <img src="image/Course 1.jpg" alt="" />
          <h2>English Grammer Course</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, porro
            ducimus? Aut vitae aliquid sapiente ipsam voluptas ex deleniti eaque
            id numquam labore, officia, praesentium beatae!
          </p>
          <div class="card-container">
            <div class="time-length">
              <div class="para">
                <p>
                  <span><i class="far fa-clock"></i></span>&nbsp; 4h 25min
                </p>
              </div>
            </div>
            <div class="price">
              <p>Free</p>
            </div>
          </div>
        </div>
        <div class="card-item">
          <img src="image/Course 2.jpg" alt="" />
          <h2>Speaking in british accent</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, porro
            ducimus? Aut vitae aliquid sapiente ipsam voluptas ex deleniti eaque
            id numquam labore, officia, praesentium beatae!
          </p>
          <div class="card-container">
            <div class="time-length">
              <div class="para">
                <p>
                  <span><i class="far fa-clock"></i></span>&nbsp; 4h 25min
                </p>
              </div>
            </div>
            <div class="price">
              <p>Free</p>
            </div>
          </div>
        </div>
        <div class="card-item">
          <img src="image/Course 3.jpg" alt="" />
          <h2>Class 12th English full course</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, porro
            ducimus? Aut vitae aliquid sapiente ipsam voluptas ex deleniti eaque
            id numquam labore, officia, praesentium beatae!
          </p>
          <div class="card-container">
            <div class="time-length">
              <div class="para">
                <p>
                  <span><i class="far fa-clock"></i></span>&nbsp; 4h 25min
                </p>
              </div>
            </div>
            <div class="price">
              <p>Free</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="company-section">
      <div class="container">
        <div class="company-item">
          <div class="company-info">
            <h1>Take Self Assesment</h1>
            <p>
              From finding relevant media contacts to sending eye-catching
              visual press releases, Prowly has everything you need your PR work
              done
            </p>
          </div>
          <div class="company-image">
            <img src="image/Group 6.svg" alt="" />
          </div>
        </div>
        <div class="company-item">
          <div class="company-image">
            <img src="image/Group 7.svg" alt="" />
          </div>
          <div class="company-info">
            <h1>Take Writen Text</h1>
            <p>
              From finding relevant media contacts to sending eye-catching
              visual press releases, Prowly has everything you need your PR work
              done
            </p>
          </div>
        </div>
        <div class="company-item">
          <div class="company-info">
            <h1>Join Live Class</h1>
            <p>
              From finding relevant media contacts to sending eye-catching
              visual press releases, Prowly has everything you need your PR work
              done
            </p>
          </div>
          <div class="company-image">
            <img src="image/Group 2.svg" alt="" />
          </div>
        </div>
      </div>
    </section>

    <section id="testim" class="testim">
      <div class="wrap">
        <h1>What Other Say</h1>
        <span id="right-arrow" class="arrow right fa fa-chevron-right"></span>
        <span id="left-arrow" class="arrow left fa fa-chevron-left"></span>
        <ul id="testim-dots" class="dots">
          <li class="dot active"></li>
          <li class="dot"></li>
          <li class="dot"></li>
          <li class="dot"></li>
          <li class="dot"></li>
        </ul>
        <div id="testim-content" class="cont">
          <div class="active">
            <div class="img"><img src="/image/Course 3.jpg" alt="" /></div>
            <h2>Lorem P. Ipsum</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco.
            </p>
          </div>
          <div>
            <div class="img"><img src="/image/Course 1.jpg" alt="" /></div>
            <h2>Mr. Lorem Ipsum</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco.
            </p>
          </div>
          <div>
            <div class="img"><img src="/image/Course 2.jpg" alt="" /></div>
            <h2>Lorem Ipsum</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco.
            </p>
          </div>
          <div>
            <div class="img"><img src="/image/Course 1.jpg" alt="" /></div>
            <h2>Lorem De Ipsum</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco.
            </p>
          </div>
          <div>
            <div class="img"><img src="/image/Course 3.jpg" alt="" /></div>
            <h2>Mr. Lorem Ipsum</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="contact-section">
      <div class="container">
        <div class="contact-box">
          <h1>Do you Have any questions</h1>
          <p>Put your email address and get started</p>
          <div class="number">
            <div class="input-field">
              <span class="material-icons"> call </span>
              <input type="number" placeholder="Enter Your Number" />
            </div>
            <div class="btn-send">
              <button class="btn">Send</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  mounted() {
    this.initTestimonial()
  },
  methods: {
    initTestimonial() {
      const testim = document.getElementById('testim')
      const testimDots = Array.prototype.slice.call(
        document.getElementById('testim-dots').children
      )
      const testimContent = Array.prototype.slice.call(
        document.getElementById('testim-content').children
      )
      const testimLeftArrow = document.getElementById('left-arrow')
      const testimRightArrow = document.getElementById('right-arrow')
      const testimSpeed = 4500
      let currentSlide = 0
      let currentActive = 0
      let testimTimer
      let touchStartPos
      let touchEndPos
      let touchPosDiff
      const ignoreTouch = 30

      function playSlide(slide) {
        for (let k = 0; k < testimDots.length; k++) {
          testimContent[k].classList.remove('active')
          testimContent[k].classList.remove('inactive')
          testimDots[k].classList.remove('active')
        }

        if (slide < 0) {
          slide = currentSlide = testimContent.length - 1
        }

        if (slide > testimContent.length - 1) {
          slide = currentSlide = 0
        }

        if (currentActive !== currentSlide) {
          testimContent[currentActive].classList.add('inactive')
        }
        testimContent[slide].classList.add('active')
        testimDots[slide].classList.add('active')

        currentActive = currentSlide

        clearTimeout(testimTimer)
        testimTimer = setTimeout(function () {
          playSlide((currentSlide += 1))
        }, testimSpeed)
      }

      testimLeftArrow.addEventListener('click', function () {
        playSlide((currentSlide -= 1))
      })

      testimRightArrow.addEventListener('click', function () {
        playSlide((currentSlide += 1))
      })

      for (let l = 0; l < testimDots.length; l++) {
        testimDots[l].addEventListener('click', function () {
          playSlide((currentSlide = testimDots.indexOf(this)))
        })
      }

      playSlide(currentSlide)

      document.addEventListener('keyup', function (e) {
        switch (e.keyCode) {
          case 37:
            testimLeftArrow.click()
            break

          case 39:
            testimRightArrow.click()
            break

          default:
            break
        }
      })

      testim.addEventListener('touchstart', function (e) {
        touchStartPos = e.changedTouches[0].clientX
      })

      testim.addEventListener('touchend', function (e) {
        touchEndPos = e.changedTouches[0].clientX
        touchPosDiff = touchStartPos - touchEndPos

        if (touchPosDiff > 0 + ignoreTouch) {
          testimLeftArrow.click()
        } else if (touchPosDiff < 0 - ignoreTouch) {
          testimRightArrow.click()
        }
      })
    },
  },
}
</script>

<style lang="scss" scoped>
@import '~/styles/style.scss';
@import '~/styles/testimonials.css';

#showcase {
  @extend .main-container;
  .showcase-item {
    display: grid;
    grid-template-columns: 1fr 1.3fr;
    align-items: center;
    grid-gap: 1rem;
    height: 100vh;

    .showcase-info {
      h1 {
        color: $main-heading-color;
        font-size: 2.7rem;
        font-weight: 700;
        margin-bottom: 2rem;
      }

      p {
        margin-bottom: 2rem;
        font-size: $main-p-font-size;
        font-weight: 400;
        line-height: 2rem;
        color: $main-paragraph-color;
      }

      .btn {
        @extend .btn-primary;
      }
    }

    .showcase-image {
      img {
        width: 100%;
      }
    }
  }
}

#pricing-cards {
  h1 {
    color: $main-heading-color;
    font-size: $main-font-size;
    text-align: center;
    margin: 1rem 0 3rem 0;
  }

  .container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-gap: 30px;
    @extend .main-container;

    .card-item {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      transition: 0.3s;

      &:hover {
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
      }

      img {
        width: 100%;
      }

      h2 {
        padding: 25px 20px 10px 20px;
        font-size: 1.2rem;
        color: $main-heading-color;
      }

      p {
        padding: 10px 20px 0 20px;
        font-size: 1rem;
        line-height: 1.5rem;
        color: $main-paragraph-color;
      }

      .card-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;

        .time-length {
          .para {
            p {
              padding: 0 !important;
              color: $main-paragraph-color;
              font-size: 15px;

              i {
                color: #666666;
                font-size: 1rem;
              }
            }
          }
        }

        .price {
          p {
            padding: 0 !important;
            font-size: 15px;
            font-weight: 800;
            color: $main-paragraph-color;
          }
        }
      }
    }
  }
}

#company-section {
  margin-top: 8%;

  .container {
    @extend .main-container;

    .company-item {
      @extend .grid;
      grid-gap: 5rem;

      .company-info {
        h1 {
          color: $main-heading-color;
          font-size: $main-font-size;
          margin-bottom: 3rem;
          font-weight: bold;
        }

        p {
          color: $main-paragraph-color;
          font-size: $main-p-font-size;
          line-height: 1.8rem;
        }
      }

      .company-image {
        img {
          width: 100%;
          height: 550px;
        }
      }
    }
  }
}

#contact-section {
  background: #f4f5f6;
  margin: 5rem 0 10rem 0;

  .container {
    @extend .flex;
    height: 40vh;

    .contact-box {
      h1 {
        color: $main-heading-color;
        font-size: 2.4rem;
      }

      p {
        color: $main-paragraph-color;
        font-size: $main-p-font-size;
        text-align: center;
        padding-top: 1.8rem;
        padding-bottom: 3rem;
      }

      .number {
        display: grid;
        grid-template-columns: 3fr auto;
        grid-gap: 15px;

        .input-field {
          .material-icons {
            position: absolute;
            margin-top: 1rem;
            font-size: 1.5rem;
            padding-left: 1.3rem;
            color: #c3c3c3;
          }

          input {
            width: 100%;
            padding: 20px 55px;
            background: rgb(255, 255, 255);
            border: none;
            border-radius: 7px;
            outline: none;
          }

          &::placeholder {
            color: #707070;
            font-size: 0.9rem;
          }

          input::-webkit-outer-spin-button,
          input::-webkit-inner-spin-button {
            -webkit-appearance: none;
          }
        }
      }

      .btn-send {
        .btn {
          @extend .btn-primary;
        }
      }
    }
  }
}
</style>
